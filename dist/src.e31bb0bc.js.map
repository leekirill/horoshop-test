{"version":3,"sources":["warnings.js","classNames.js","index.js"],"names":["error","success","exports","default","_default","inputError","modalActive","modalError","modalSuccess","_warnings","_interopRequireDefault","require","_classNames","obj","__esModule","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","length","i","arr2","body","document","getElementsByTagName","modal","querySelector","form","inputs","querySelectorAll","span","modalText","window","addEventListener","style","opacity","evt","preventDefault","forEach","input","value","classList","add","cn","innerText","concat","every","a","className","includes","warnings","showModal","handleInput","inputValueLength","remove","match","innerHTML","removeClass","item","setTimeout"],"mappings":"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","file":"src.e31bb0bc.js","sourceRoot":"../src","sourcesContent":["export default {\n    error: 'Поправь ошибки',\n    success: 'Заявка успешно отправлена',\n}\n","export default {\n    inputError: 'cta__form-input--error',\n    modalActive: 'modal--active',\n    modalError: 'modal--error',\n    modalSuccess: 'modal--success',\n}\n","import warnings from './warnings'\nimport cn from './classNames'\n\nconst body = document.getElementsByTagName('body')\nconst modal = document.querySelector('.js-modal')\nconst form = document.querySelector('.js-form')\nconst inputs = document.querySelectorAll('.js-input')\nconst span = document.querySelectorAll('.js-span')\n\n// состояние контента в попапчиках\n\nlet modalText = ''\n\n// показываем body после полной загрузки страницы\n\nwindow.addEventListener('load', () => (body[0].style.opacity = 1))\n\n// сабмит формы\n\nform.addEventListener('submit', (evt) => {\n    evt.preventDefault()\n\n    inputs.forEach((input, i) => {\n        if (input.value === '') {\n            input.classList.add(cn.inputError)\n            span[i].innerText = `Заполните поле ${input.name}`\n        }\n    })\n\n    modalText = [...inputs].every((a) => !a.className.includes('error'))\n        ? warnings.success\n        : warnings.error\n\n    showModal(modalText)\n})\n\n// делаем из псевдомассива массив и перебираем, находим наши елементы из DOM и вызываем фун-цию валидации при каждом расфокусе\n\nArray.from(inputs).forEach((input, i) => {\n    input.addEventListener('change', handleInput)\n\n    function handleInput() {\n        const inputValueLength = input.value.length\n\n        if (inputValueLength === 0) {\n            input.classList.remove(cn.inputError)\n        } else if (inputValueLength < 2 || inputValueLength > 10) {\n            input.classList.add(cn.inputError)\n            span[i].innerText = `В поле ${input.name} от 2 до 10 символов`\n        } else {\n            input.classList.remove(cn.inputError)\n        }\n\n        if (input.value.match(/[А-яЁё]/)) {\n            input.classList.add(cn.inputError)\n            span[i].innerText = `Только латиница`\n        }\n    }\n})\n\n// фун-ция отвечающая за попапы с предупреждениями\n\nfunction showModal(value) {\n    modal.innerHTML = value\n    modal.classList.add(cn.modalActive)\n    removeClass(modal, cn.modalActive)\n\n    if (value === warnings.error) {\n        modal.classList.add(cn.modalError)\n        removeClass(modal, cn.modalError)\n    }\n    if (value === warnings.success) {\n        inputs.forEach((input) => (input.value = ''))\n        modal.classList.add(cn.modalSuccess)\n        removeClass(modal, cn.modalSuccess)\n    }\n}\n\n// удаляем класы через какое-то время\n\nfunction removeClass(item, className) {\n    setTimeout(() => {\n        item.classList.remove(className)\n    }, 2000)\n}\n"]}