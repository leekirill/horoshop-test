{"version":3,"sources":["warnings.js","classNames.js","index.js"],"names":["warn","error","success","exports","default","_default","inputError","modalActive","modalError","modalWarn","modalSuccess","_warnings","_interopRequireDefault","require","_classNames","obj","__esModule","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","iter","Symbol","iterator","isArray","len","length","i","arr2","body","document","getElementsByTagName","modal","querySelector","form","inputs","querySelectorAll","span","modalText","concat","warnings","window","addEventListener","style","opacity","evt","preventDefault","showModal","forEach","input","handleInput","target","validation","every","a","className","includes","some","value","_arr$filter$","emptyInputName","filter","inputValueLength","classList","remove","cn","add","innerText","match","innerHTML","removeClass","item","setTimeout"],"mappings":"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","file":"src.e31bb0bc.js","sourceRoot":"../src","sourcesContent":["export default {\n    warn: 'Заполните',\n    error: 'Поправь ошибки',\n    success: 'Заявка успешно отправлена',\n}\n","export default {\n    inputError: 'cta__form-input--error',\n    modalActive: 'modal--active',\n    modalError: 'modal--error',\n    modalWarn: 'modal--warn',\n    modalSuccess: 'modal--success',\n}\n","import warnings from './warnings'\nimport cn from './classNames'\n\nconst body = document.getElementsByTagName('body')\nconst modal = document.querySelector('.js-modal')\nconst form = document.querySelector('.js-form')\nconst inputs = document.querySelectorAll('.js-input')\nconst span = document.querySelectorAll('.js-span')\n\n// состояние контента в попапчиках\n\nlet modalText = `${warnings.warn} поля`\n\n// показываем body после полной загрузки страницы\n\nwindow.addEventListener('load', () => (body[0].style.opacity = 1))\n\n// сабмит формы\n\nform.addEventListener('submit', (evt) => {\n    evt.preventDefault()\n\n    showModal(modalText)\n})\n\n// делаем из псевдомассива массив и перебираем, находим наши елементы из DOM и вызываем фун-цию валидации при каждом расфокусе\n;[...inputs].forEach((input, i, arr) => {\n    input.addEventListener('change', handleInput)\n\n    function handleInput(evt) {\n        let input = evt.target\n\n        validation(input, span[i])\n\n        // текст для попала с ошибкой или без\n\n        modalText = arr.every((a) => !a.className.includes('error'))\n            ? warnings.success\n            : warnings.error\n\n        // текст для попапа если одно из полей пустое\n\n        if (arr.some((a) => a.value === '')) {\n            const emptyInputName = arr.filter((a) => a.value === '')[0]?.name\n            modalText = `${warnings.warn} поле ${emptyInputName}`\n        }\n\n        // текст для попала если оба поля пустых\n\n        if (input.value === '') modalText = `${warnings.warn} поля`\n    }\n})\n\n// проверяем длинну набраного текста и на латыницу\n\nfunction validation(input, span) {\n    const inputValueLength = input.value.length\n\n    if (inputValueLength === 0) {\n        input.classList.remove(cn.inputError)\n        modalText = warnings.warn\n    } else if (inputValueLength < 2 || inputValueLength > 10) {\n        input.classList.add(cn.inputError)\n        span.innerText = `В поле ${input.name} от 2 до 10 символов`\n    } else {\n        input.classList.remove(cn.inputError)\n    }\n\n    if (input.value.match(/[А-яЁё]/)) {\n        input.classList.add(cn.inputError)\n        span.innerText = `Только латиница`\n    }\n}\n\n// фун-ция отвечающая за попапы с предупреждениями\n\nfunction showModal(value) {\n    modal.innerHTML = value\n    modal.classList.add(cn.modalActive)\n    removeClass(modal, cn.modalActive)\n\n    if (value === warnings.error) {\n        modal.classList.add(cn.modalError)\n        removeClass(modal, cn.modalError)\n    }\n    if (value === warnings.warn) {\n        modal.classList.add(cn.modalWarn)\n        removeClass(modal, cn.modalWarn)\n    }\n    if (value === warnings.success) {\n        inputs.forEach((input) => (input.value = ''))\n        modalText = `${warnings.warn} поля`\n        modal.classList.add(cn.modalSuccess)\n        removeClass(modal, cn.modalSuccess)\n    }\n}\n\n// удаляем класы через какое-то время\n\nfunction removeClass(item, className) {\n    setTimeout(() => {\n        item.classList.remove(className)\n    }, 2000)\n}\n"]}